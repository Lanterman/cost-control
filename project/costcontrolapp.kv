# :kivy 2.1.0

<MainWindow>:
    orientation: 'vertical'

    MDToolbar:
        title: app.title
        MDIconButton:
            icon: "database-remove-outline"
            pos_hint: {"center_y": 0.5, "center_x": 1}
            on_release:
                app.clear_db()
        Widget:
            size_hint_x: 0.1

    MDBoxLayout:
        orientation: 'horizontal'
        MDBottomNavigation:
            id: bottom_nav
            panel_color: [0.85, 0.92, 0.98, 1]
            text_color_normal: 0.55, 0.6, 0.6, 1
            text_color_active: 1, 0, 0, 1

            MDBottomNavigationItem:
                name: "screen add"
                icon: "plus-box"
                AddNavigationItem:

            MDBottomNavigationItem:
                name: "screen main"
                icon: "calendar-text-outline"
                on_tab_press:
                    app.root.ids.main_nav.all_reports()
                MainNavigationItem:
                    id: main_nav
                    orientation: 'vertical'
                    MDBoxLayout:
                        md_bg_color: [0.85, 0.92, 0.98, 1]
                        padding: 10, 5, 5, 5
                        MDTextField:
                            id: search_id
                            font_size: 18
                            hint_text: "search"
                            line_color_focus: [0.20, 0.25, 0.26, 1]
                        MDIconButton:
                            icon: "magnify"
                            pos_hint: {"center_x": 0.5, "center_y": 0.43}
                            on_release:
                                root.ids.main_nav.searching_results(root.ids.search_id.text)
                    ScrollView:
                        size_hint: 0.99, 8
                        bar_width: 11
                        scroll_type: ["bars", "content"]
                        MDList:
                            id: show_result

            MDBottomNavigationItem:
                name: "screen cost"
                icon: "currency-usd"
                on_tab_press:
                    root.ids.cost_nav.set_values()
                CostNavigationItem:
                    id: cost_nav

<AddNavigationItem>:
    orientation: "vertical"
    padding: 10, 10, 15, 5
    spacing: 20
    MDTextField:
        id: add_description
        hint_text: "Введите описание"
        multiline: True
        font_size: 18
        max_text_length: 50
        max_height: 97
    MDDropDownItem:
        id: drop_item_category
        text: "---------"
        font_size: 18
        on_release:
            root.drop_down_category_menu()
    MDDropDownItem:
        id: drop_item_costs
        text: "Расход"
        font_size: 18
        on_release:
            root.drop_down_costs_menu()
    MDTextField:
        id: add_price
        hint_text: "Введите цену"
        required: True
        text: "0"
        font_size: 18
        helper_text: "Десятичные числа писать через точку!"
        helper_text_mode: "on_focus"
    Widget:
    MDFloatingActionButton:
        icon: "plus"
        pos_hint: {'right': 0.95}
        on_release:
            root.insert_data(root.ids.add_description.text,
            root.ids.drop_item_category.ids.label_item.text,
            root.ids.drop_item_costs.ids.label_item.text,
            root.ids.add_price.text)
    Widget:
        size_hint_y: 0.1

<CostNavigationItem>:
    orientation: "vertical"
    padding: 30
    spacing: 40
    MDBoxLayout:
        orientation: "vertical"
        padding: 40, 0
        MDBoxLayout:
            MDLabel:
                font_size: 22
                text: "Осталось:"
            MDLabel:
                id: set_profit
                font_size: 22
                halign: "right"
        MDBoxLayout:
            CostDataLabel:
                text: "Заработано:"
            CostDataLabel:
                id: set_income
                halign: "right"
        MDBoxLayout:
            CostDataLabel:
                text: "Потрачено:"
            CostDataLabel:
                id: set_expenditure
                halign: "right"
    MDRaisedButton:
        text: "Подробнее"
        pos_hint: {"center_x": 0.5}
        on_release: root.full_info_of_reports()
    CostDataLabel:
        id: set_description
    Widget:

<BoxItemEditReport>:
    orientation: "vertical"
    spacing: "12dp"
    size_hint_y: None
    height: "200dp"
    MDBoxLayout:
        MDLabel:
            text: "Description"
        MDTextField:
            id: changed_description
            pos_hint: {"center_y": 0.5}
            required: True
    MDBoxLayout:
        MDLabel:
            text: "Category"
        MDDropDownItem:
            id: drop_item_category
            pos_hint: {"center_y": 0.55}
            on_release:
                root.drop_down_category_menu()
    MDBoxLayout:
        MDLabel:
            text: "Cost"
        MDDropDownItem:
            id: drop_item_costs
            pos_hint: {"center_y": 0.55}
            on_release:
                root.drop_down_costs_menu()
    MDBoxLayout:
        MDLabel:
            text: "Price"
        MDTextField:
            id: changed_price
            pos_hint: {"center_y": 0.5}
            required: True
    Widget:

<BoxItemFullInfoOfReports>:
    orientation: "vertical"
    size_hint_y: None
    height: "330dp"
    padding: 20, 0, 20, 10
    MDBoxLayout:
        orientation: "vertical"
        MDBoxLayout:
            spacing: 20
            FullInfoOfReportsLabel:
                text: "Продукты:"
            FullInfoOfReportsLabel:
                id: per_product
        MDBoxLayout:
            spacing: 20
            FullInfoOfReportsLabel:
                text: "Транспорт:"
            FullInfoOfReportsLabel:
                id: per_transport
        MDBoxLayout:
            spacing: 20
            FullInfoOfReportsLabel:
                text: "Медицина:"
            FullInfoOfReportsLabel:
                id: per_medicine
        MDBoxLayout:
            spacing: 20
            FullInfoOfReportsLabel:
                text: "Связь:"
            FullInfoOfReportsLabel:
                id: per_phone
        MDBoxLayout:
            spacing: 20
            FullInfoOfReportsLabel:
                text: "Хобби:"
            FullInfoOfReportsLabel:
                id: per_hobby
        MDBoxLayout:
            spacing: 20
            FullInfoOfReportsLabel:
                text: "Дом:"
            FullInfoOfReportsLabel:
                id: per_home
        MDBoxLayout:
            spacing: 20
            FullInfoOfReportsLabel:
                text: "Копилка:"
            FullInfoOfReportsLabel:
                id: per_moneybox
        MDBoxLayout:
            spacing: 20
            FullInfoOfReportsLabel:
                text: "Другое:"
            FullInfoOfReportsLabel:
                id: per_other

<RecordWidget>:
    text_color: [0.67, 0.23, 0.23, 1]
    theme_text_color: "Custom"
    MDIcon:
        id: md_icon
        pos_hint: {"center_x": 0.57, "center_y": 0.5}
    IconRightWidget:
        id: button
        icon: "dots-vertical"
        on_release:
            root.show_menu()

<DropdownMenuFunctionsOfReport>:
    width_mult: 1.6
    max_height: 147
    radius: [24, 24, 24, 24]
    background_color: [.66, 0.88, 0.92, 1]

<DropDownMenuReportsBox>:
    width_mult: 1.9
    max_height: 230
    radius: [24, 24, 24, 24]
    background_color: [.66, 0.88, 0.92, 1]

<IfNoRecords>:
    halign: "center"
    text: "No records"
    theme_text_color: "Custom"
    text_color: 0.89, 0.39, 0.26, 1

<OneLineListItem>:
    divider: None
